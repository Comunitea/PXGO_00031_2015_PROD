<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="report_product_label" >
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <p t-field="o.name" style="font-size: 3.5mm; height: 20mm; text-overflow:ellipsis;"/>
                    <p style="font-size: 4mm; height: 5mm">CP: <span t-field="o.default_code"/></p>
                    <img t-att-src="'/report/barcode/?type=%s&amp;value=%s' % ('Code128', o.default_code)" style="width:67mm;height:10mm"/>
                    <p style="font-size: 4mm; height: 4mm" t-esc="location"/>

                </div>
            </t>
        </template>

        <template id="report_product_label_from_picking" >
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <p t-field="o.product_id.name" style="font-size: 3.5mm; height: 20mm; text-overflow:ellipsis;"/>
                    <p style="font-size: 4mm; height: 5mm">CP: <span t-field="o.product_id.default_code"/></p>
                    <img t-att-src="'/report/barcode/?type=%s&amp;value=%s' % ('Code128', o.product_id.default_code)" style="width:67mm;height:10mm"/>
                    <p style="font-size: 4mm; height: 4mm" t-esc="' / '.join(o.location_dest_id.complete_name.split(' / ')[1:])"/>

                </div>
            </t>
        </template>

        <report
            string="Product label"
            id="report_product_label_action"
            model="product.product"
            menu="False"
            report_type="qweb-pdf"
            name="custom_documents.report_product_label"
            file="custom_documents.report_product_label"
        />

        <record id="custom_documents.report_product_label_action" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="paperformat_product_labels" />
        </record>

        <report
            string="Product label"
            id="report_product_label_action_from_picking"
            model="stock.move"
            menu="False"
            report_type="qweb-pdf"
            name="custom_documents.report_product_label_from_picking"
            file="custom_documents.report_product_label_from_picking"
        />

        <record id="custom_documents.report_product_label_action_from_picking" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="paperformat_product_labels" />
        </record>

        <delete id="product.report_product_label" model="ir.actions.report.xml"/>
    </data>
</openerp>
